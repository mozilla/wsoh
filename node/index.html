<!DOCTYPE html>
<html lang="en">
<head>
<title>nowjs test</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script src="/nowjs/now.js"></script>
<script src="/static/lib/sammy.js" type="text/javascript" charset="utf-8"></script>

<script>
$(document).ready(function(){
  now.receiveMessage = function(name, message){
    $("#messages").append("<br>" + name + ": " + message);
  }
  
  now.consoleOut = function(message){
    $('div').text(message)
    console.debug(message)
  }
  
  $("#send-button").click(function(){
    now.distributeMessage($("#text-input").val());
    $("#text-input").val("");
  });
  now.roomID='123'
  
  var app = $.sammy(function() {
    this.get('#/', function() {
		//landing page
		//allow joining of room
		//create room with specified id
		console.debug('root')
    });
    this.get('#/playlist/:id', function() {
      //show current room's playlist
      //allow editing of playlists by anybody 
      //editing: shift order of songs, delete songs
      console.debug(this.params.id)
      now.roomID=this.params.id
    });
  });
  app.run('#/')
  


});
</script>
</head>

<body>

<div>
Hello World
</div>
<input type="text" id="text-input"/>
<input type="button" value="Send" id="send-button"/>
</body>
</html>