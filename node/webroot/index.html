<!DOCTYPE html>
<html lang="en">
<head>
<title>nowjs test</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script src="/nowjs/now.js"></script>
<script src="/static/lib/sammy.js" type="text/javascript" charset="utf-8"></script>

<script>
$(document).ready(function(){
  now.receivePlaylist = function(playlist){
    $('div').text(playlist);
  }
  console.debug('hello')
  var app = $.sammy(function() {

    this.get('#/', function() {
		//landing page
		//allow joining of room
		//create room with specified id
    });
    
    this.get('#/:roomID', function() {
		//if "host", start playing songs 
		//if "host" or "guest" show album art, play/pause/next/volume controls.
		//show playlist
		now.roomID=this.params.roomID;
      	playlist = prompt("Playlist?", "");
      	now.brodcastPlayist(playlist);
    });
    

    this.get('#/playlist/:id', function() {
      //show current room's playlist
      //allow editing of playlists by anybody 
      //editing: shift order of songs, delete songs
      
    });
    
    this.get('#/search', function() {
      //add songs to playlist
      //search bar --> returns list of matching songs
      //everyone can add song to current playlist 
    });
    

    this.get('#/:id', function() {
      

    });

  });
  app.run('#/')
  

});
</script>
</head>

<body>

<div>
See JS Console
</div>
</body>
</html>
